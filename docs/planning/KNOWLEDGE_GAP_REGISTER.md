Last_verified: 2026-02-10
Scope: Repository knowledge gaps discovered during P0 gate execution.
Rules:
- Evidence-first: each gap links to file/command evidence.
- STOP: P0 blocking gaps prevent P1/P2 execution.
- Secrets: gaps may name required variables but never include values.

# KNOWLEDGE_GAP_REGISTER

## Severity Taxonomy
- `P0_BLOCKING`: blocks safe canonical execution and must be resolved before P1.
- `P1_HIGH`: high-risk unknowns that can invalidate inventory/maturity conclusions.
- `P2_MED`: canonicalization and hardening gaps that should be resolved before WRITE execution.
- `P3_LOW`: hygiene/documentation quality gaps with low immediate execution risk.

## Register
| Gap_ID | Severity | Gap Statement | Why It Matters | Unsafe Decisions If Unresolved | Acquisition Path | Resolve-By Phase | Status | Evidence |
|---|---|---|---|---|---|---|---|---|
| KG-P0-001 | P0_BLOCKING | Planning canon is internally conflicting (`todo.md`+`BACKLOG.csv` vs `NEXT_ACTIONS.json`+`PROGRAM_PLAN.md`). | Agents cannot determine single planning source-of-truth. | Updating wrong planning artifacts; false completion claims. | Human decision to confirm one canonical planning model and deprecate the other. | P0 | OPEN | `AGENT_START_HERE.md:10`, `AGENT_START_HERE.md:19`, `docs/planning/PLANNING_POLICY.md:4`, `docs/agent/AGENT_MAP.md:6` |
| KG-P0-002 | P0_BLOCKING | Validator allowlist conflicts with required backbone files under `docs/planning/`. | Backbone artifacts required by this run may fail canonical validator policy. | Treating valid planning artifacts as policy violations (or vice versa). | Update validator policy after canonical decision, or relocate inventory docs with approved policy update. | P0 | OPEN | `scripts/validate_planning_and_traceability.py:5`, `scripts/validate_planning_and_traceability.py:25` |
| KG-P0-003 | P0_BLOCKING | Governance anchor path is ambiguous (`ISA_GOVERNANCE.md` root references, file missing; authoritative file exists under `docs/governance/_root/`). | Governance authority chain is path-broken. | Using stale/non-existent governance references in execution decisions. | Human-confirm canonical governance path and fix cross-links. | P0 | OPEN | `README.md:77`, `README.md:115`, command output: `ISA_GOVERNANCE.md MISSING`, `docs/governance/_root/ISA_GOVERNANCE.md EXISTS` |
| KG-P0-004 | P0_BLOCKING | IRON protocol depends on missing root artifacts (`ROADMAP.md`, `IRON_PROTOCOL.md`, `SCOPE_DECISIONS.md`, `isa.inventory.json`). | L2/L3 hierarchy cannot be executed as written. | Declaring IRON compliance while required artifacts are absent. | Human-confirm whether root files should be restored or docs updated to `docs/governance/*` equivalents. | P0 | OPEN | `docs/governance/IRON_PROTOCOL.md:38`, `docs/governance/IRON_PROTOCOL.md:39`, command output: `ROADMAP_MISSING`, `IRON_PROTOCOL_MISSING`, `SCOPE_DECISIONS_MISSING`, `ISA_INVENTORY_MISSING` |
| KG-P0-005 | P0_BLOCKING | CI enforcement status is inconsistent (docs say active workflows; files are `.disabled`). | Formal assurance level is unclear. | Assuming compliance gates are active when they are not. | Human-confirm active gate set and align docs/workflows. | P0 | OPEN | `docs/spec/README.md:116`, `docs/spec/README.md:117`, `docs/spec/README.md:118`, `docs/spec/README.md:119`, `.github/workflows` listing |
| KG-P0-006 | P0_BLOCKING | Canonical context script runs `git reset --hard origin/main` despite non-destructive policy. | Safety policy conflict in operational script. | Data loss from local changes during routine context ingestion. | Human decision to replace destructive sync with safe alternative workflow. | P0 | OPEN | `scripts/iron-context.sh:33`, `AGENTS.md:10` |
| KG-P0-007 | P0_BLOCKING | `.env.example` missing while env validation requires critical variables and manual preflight checks expect env hygiene. | Reproducibility and onboarding are incomplete. | Running without declared variable contract; hidden runtime assumptions. | Add names-only `.env.example` aligned to `server/_core/env.ts`. | P0 | OPEN | `server/_core/env.ts:11`, `server/_core/env.ts:14`, `docs/governance/MANUAL_PREFLIGHT.md:62`, command output: `.env.example MISSING` |
| KG-P1-001 | P1_HIGH | High-risk blind spots remain in large directories (`docs/`, `data/`, `isa-archive/`). | Coverage is partial; hidden contradictions likely remain. | Overstating repository maturity/completeness. | Complete targeted sampling and index cross-checks in P1. | P1 | OPEN | directory count/size command output (`docs` 365 files, `data` 72 files, `isa-archive` 108 files) |
| KG-P1-002 | P1_HIGH | `codemods/`, `probes/`, `test-results/`, and `patches/` are low-referenced and weakly governed. | Unknown operational significance. | Deleting or ignoring directories that may support critical flows. | Trace references and ownership in P1 inventory. | P1 | OPEN | ref-count output (`codemods refs=3`, `probes refs=1`, `patches refs=1`) |
| KG-P1-003 | P1_HIGH | Five capability specs are minimal and lack implementation evidence sections. | Capability maturity can be overestimated from docs-only claims. | Prematurely declaring end-to-end readiness. | Add code/test/CI evidence mapping for each capability in P1. | P1 | OPEN | `docs/spec/NEWS_HUB.md`, `docs/spec/KNOWLEDGE_BASE.md`, `docs/spec/CATALOG.md`, `docs/spec/ESRS_MAPPING.md`, `docs/spec/ADVISORY.md` |
| KG-P1-004 | P1_HIGH | Conflict register has many OPEN conflicts with no mapped execution plan. | Known ambiguities are not operationally sequenced. | Advancing architecture without resolving authority conflicts. | Prioritize conflict IDs into decision backlog. | P1 | OPEN | `docs/spec/CONFLICT_REGISTER.md:78` |
| KG-P1-005 | P1_HIGH | `docs/REPO_MAP.md` cites missing files/workflows as critical. | Agent navigation may route to non-existent artifacts. | Following stale entrypoints and making invalid assumptions. | Rebuild map from current tree and verified anchors. | P1 | OPEN | `docs/REPO_MAP.md:45`, `docs/REPO_MAP.md:46`, `docs/REPO_MAP.md:47`, `docs/REPO_MAP.md:48`, `docs/REPO_MAP.md:50` |
| KG-P1-006 | P1_HIGH | No single canonical reproducibility command set for full install/build/test/lint/dev lifecycle. | Inconsistent verification across agents/CI. | Shipping changes without comparable validation surface. | Define and codify deterministic baseline command set in planning canon. | P1 | OPEN | `package.json:7`, `package.json:8`, `package.json:10`, `package.json:12`, `package.json:26` |
| KG-P2-001 | P2_MED | Duplicate/parallel schema surfaces (`drizzle/schema.ts` and per-domain schema files) risk drift. | Table authority may diverge over time. | Migrating or querying wrong schema definition. | Decide canonical schema-of-record and add validation. | P2 | OPEN | `drizzle/schema.ts`, `drizzle/schema_dataset_registry.ts`, `drizzle/schema_advisory_reports.ts` |
| KG-P2-002 | P2_MED | Operational TODOs remain in implementation paths (e.g., ingestion logs, embedding generation, save flows). | Indicates partial pipelines behind present APIs/UIs. | Assuming features are fully wired end-to-end. | P1 excavation + P2 decision on defer/implement/remove. | P2 | OPEN | `server/cellar-ingestion-router.ts:294`, `server/services/corpus-ingestion/index.ts:372`, `server/routers.ts:328`, `client/src/pages/HubRegulationDetail.tsx:52` |
| KG-P2-003 | P2_MED | NO_GATES policy and active mini-gates are not reconciled to a single assurance model. | Validation expectations remain ambiguous. | Misreporting release readiness and compliance confidence. | Human-approved gate reintroduction plan with explicit active controls. | P2 | OPEN | `docs/governance/NO_GATES_WINDOW.md:7`, `.github/workflows/validate-docs.yml:1`, `.github/workflows/ask-isa-runtime-smoke.yml:1` |
| KG-P3-001 | P3_LOW | Date/version metadata varies across canonical docs and may be stale. | Weakens temporal trust in documentation. | Using outdated docs as current authority. | Add periodic date integrity check to doc maintenance flow. | P3 | OPEN | `README.md:5`, `docs/REPO_MAP.md:5`, `docs/spec/README.md:4` |
| KG-P3-002 | P3_LOW | Archive/live boundary relies on convention more than enforcement. | Historical docs may be mistaken for active canon. | Implementing from archived guidance. | Add explicit superseded banners and enforceable archive index checks. | P3 | OPEN | `docs/planning/PLANNING_POLICY.md:17`, `docs/planning/INDEX.md:12` |
